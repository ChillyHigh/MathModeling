## 层次分析法

#### 套路

1. 解决评价类问题

   **确定旅游的目的地**

2. 画出层级结构图

   ```mermaid
   %%{ init: {'flowchart':{'curve':'monotoneY'}}}%%
   flowchart TB
   	subgraph 目标层
   		Target["旅游目的地"]
   	end
   	subgraph 准则层
   		A["景色"]
   		B["饮食"]
   		C["花费"]
   		D["距离"]
   	end
   	Target-->A
   	Target-->B
   	Target-->C
   	Target-->D
   	subgraph 方案层
   		A2["A地点"]
   		B2["B地点"]
   		C2["C地点"]
   		D2["D地点"]
   	end
   	A-->A2
   	A-->B2
   	A-->C2
   	A-->D2
   	B-->A2
   	B-->B2
   	B-->C2
   	B-->D2
   	C-->A2
   	C-->B2
   	C-->C2
   	C-->D2
   	D-->A2
   	D-->B2
   	D-->C2
   	D-->D2
   ```

   

3. 构造判断矩阵

4. 依照评价指标对各个方案进行打分

|  标度   | 含义                                                         |
| :-----: | :----------------------------------------------------------- |
|    1    | 表示两个因素相比，具有同样重要性                             |
|    3    | 表示两个因素相比，一个因素比另一个因素稍微重要               |
|    5    | 表示两个因素相比，一个因素比另一个因素明显重要               |
|    7    | 表示两个因素相比，一个因素比另一个因素强烈重要               |
|    9    | 表示两个因素相比，一个因素比另一个因素极端重要               |
| 2,4,6,8 | 上述两相邻判断的中值                                         |
|  倒数   | 因素i与j比较的判断$a_{ij}$，则因素j与i比较的判断$a_{ji}=\frac{1}{a_{ij}}$ |

|      景色      | $C_1$（A） | $C_2$（B） | $C_3$（C） | $C_4$（D） |
| :------------: | :--------: | :--------: | :--------: | :--------: |
| **$C_1$（A）** |     1      |     2      |     5      |     2      |
| **$C_2$（B）** |            |     1      |            |            |
| **$C_3$（C）** |            |            |     1      |            |
| **$C_4$（D）** |            |            |            |     1      |

- $C_i : C_j = a_{ij}$
- $a_{ji}=\frac{1}{a_{ij}}$
- 

5. 求出权重，填表，求得最后得分

6. 层次总排序一致性检验

$$
A = \begin{bmatrix}
  a_{11} & a_{12} &\cdots &a_{1n}  \\
  a_{21}&  a_{22}& \cdots &a_{2n} \\
  \vdots& \vdots & \ddots &\vdots \\
  a_{n1}& a_{n2} & \cdots &a_{nn}
\end{bmatrix}
$$

